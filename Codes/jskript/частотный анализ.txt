N - мн-во элементарных исходов
n - кол-во элементарных исходов события А
Р(А) = n/N

Р(i)(S(i)) = кол-во букв / общее кол-во букв в тексте

GT - эталонная частотная таблица

LT - частотная таблица зашифрованного текста

сдвиг = arg min E(GT[S(i) + сдвиг] - LT[S(i)]) (i 0..n)
0 < сдвиг < n